# ğŸ“ æœ€ç»ˆå®Œæ•´é¡¹ç›®ç»“æ„

##  ç¬¬å››é˜¶æ®µé¡¹ç›®ç»“æ„å›¾

text

```
workflow-visualization-platform/
â”œâ”€â”€ ğŸ“‚ backend/
â”‚   â”œâ”€â”€ ğŸ“‚ src/main/java/com/workflow/platform/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ component/                 # ç¬¬å››é˜¶æ®µæ–°å¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ConflictResolutionManager.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ EnhancedOfflineDataManager.java
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ ...å…¶ä»–å†²çªè§£å†³ç­–ç•¥ç±»
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ enums/                     # æ–°å¢æšä¸¾
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ ConflictResolutionType.java
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ model/                     # æ–°å¢å®ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ entity/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ WorkflowVersionEntity.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ dto/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ WorkflowVersionDTO.java
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‚ vo/
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ WorkflowVersionVO.java
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ repository/                # æ–°å¢ä»“åº“
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ WorkflowVersionRepository.java
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ service/                   # æ–°å¢æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ impl/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ WorkflowVersionServiceImpl.java
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ WorkflowVersionService.java
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ controller/                # æ–°å¢æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ WorkflowVersionController.java
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ util/                      # æ–°å¢å·¥å…·ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ DataCompressionUtil.java
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ DataEncryptionUtil.java
â”‚   â””â”€â”€ ğŸ“‚ src/main/resources/
â”‚       â”œâ”€â”€ ğŸ“„ application.yml            # æ›´æ–°é…ç½®
â”‚       â””â”€â”€ ğŸ“„ application-offline.yml    # æ›´æ–°é…ç½®
â”‚
â”œâ”€â”€ ğŸ“‚ frontend/
â”‚   â”œâ”€â”€ ğŸ“‚ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ components/workflow/       # ç¬¬å››é˜¶æ®µæ–°å¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ConflictResolver.js
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ConflictResolver.css
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ VersionManager.js
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ VersionManager.css
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ VersionComparison.js
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ VersionComparison.css
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ services/                  # æ–°å¢æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ conflictService.js
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ workflowVersionService.js
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ config/                    # æ–°å¢é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ conflictConfig.js
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ versionConfig.js
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ utils/                     # æ–°å¢å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ conflictUtils.js
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ versionUtils.js
â”‚   â”‚   â””â”€â”€ ğŸ“‚ types/                     # æ–°å¢ç±»å‹å®šä¹‰
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ conflict.ts
â”‚   â”‚       â””â”€â”€ ğŸ“„ version.ts
â”‚
â””â”€â”€ ğŸ“„ README.md                          # æ›´æ–°æ–‡æ¡£
```



## 8. å¯åŠ¨å’Œæµ‹è¯•è„šæœ¬

### 8.1 ç¬¬å››é˜¶æ®µæµ‹è¯•è„šæœ¬

**æ–‡ä»¶è·¯å¾„ï¼š** `scripts/test-phase4.sh`

bash

```
#!/bin/bash

# ç¬¬å››é˜¶æ®µæµ‹è¯•è„šæœ¬
echo "å¼€å§‹æµ‹è¯•ç¬¬å››é˜¶æ®µåŠŸèƒ½..."

# 1. æµ‹è¯•å†²çªè§£å†³
echo "1. æµ‹è¯•å†²çªè§£å†³åŠŸèƒ½..."
curl -X POST http://localhost:8080/api/conflict/resolve \
  -H "Content-Type: application/json" \
  -d '{
    "conflictId": "test-conflict-001",
    "resolutionType": "CLIENT_PRIORITY",
    "selectedChanges": {},
    "notes": "æµ‹è¯•è§£å†³å†²çª"
  }'

# 2. æµ‹è¯•ç‰ˆæœ¬ç®¡ç†
echo "2. æµ‹è¯•ç‰ˆæœ¬ç®¡ç†åŠŸèƒ½..."
curl -X POST http://localhost:8080/api/workflow/versions \
  -H "Content-Type: application/json" \
  -d '{
    "workflowId": 1,
    "versionName": "æµ‹è¯•ç‰ˆæœ¬",
    "description": "æµ‹è¯•åˆ›å»ºç‰ˆæœ¬",
    "changeSummary": "æµ‹è¯•å˜æ›´"
  }'

# 3. æµ‹è¯•æ•°æ®å‹ç¼©åŠ å¯†
echo "3. æµ‹è¯•æ•°æ®å‹ç¼©åŠ å¯†..."
curl -X POST http://localhost:8080/api/offline/secure \
  -H "Content-Type: application/json" \
  -d '{
    "data": "æµ‹è¯•æ•°æ®å‹ç¼©å’ŒåŠ å¯†",
    "action": "encrypt"
  }'

# 4. æµ‹è¯•ç‰ˆæœ¬æ¯”è¾ƒ
echo "4. æµ‹è¯•ç‰ˆæœ¬æ¯”è¾ƒ..."
curl -X GET "http://localhost:8080/api/workflow/versions/compare?versionId1=1&versionId2=2"

# 5. æµ‹è¯•ç¦»çº¿æ•°æ®å¤‡ä»½
echo "5. æµ‹è¯•ç¦»çº¿æ•°æ®å¤‡ä»½..."
curl -X POST http://localhost:8080/api/offline/backup \
  -H "Content-Type: application/json" \
  -d '{
    "backupName": "test-backup",
    "includeMetadata": true
  }'

echo "ç¬¬å››é˜¶æ®µåŠŸèƒ½æµ‹è¯•å®Œæˆï¼"
```



## æ€»ç»“

ç¬¬å››é˜¶æ®µå·²ç»å®Œæˆäº†ä»¥ä¸‹é«˜çº§åŠŸèƒ½çš„å®ç°ï¼š

### 1. **æ•°æ®åŒæ­¥å†²çªè§£å†³æœºåˆ¶**

- å®ç°äº†å¤šç§å†²çªè§£å†³ç­–ç•¥ï¼ˆå®¢æˆ·ç«¯ä¼˜å…ˆã€æœåŠ¡å™¨ä¼˜å…ˆã€æ—¶é—´æˆ³ä¼˜å…ˆã€æ‰‹åŠ¨è§£å†³ï¼‰
- åˆ›å»ºäº†å†²çªè§£å†³ç®¡ç†å™¨å’Œç­–ç•¥æ¥å£
- æ”¯æŒè‡ªåŠ¨æ£€æµ‹å’Œæ‰‹åŠ¨è§£å†³å†²çª

### 2. **ç¦»çº¿æ•°æ®å‹ç¼©å’ŒåŠ å¯†**

- å®ç°äº†æ•°æ®å‹ç¼©å·¥å…·ç±»ï¼ˆæ”¯æŒGZIPå’ŒDeflaterç®—æ³•ï¼‰
- å®ç°äº†æ•°æ®åŠ å¯†å·¥å…·ç±»ï¼ˆæ”¯æŒAES-GCMå’ŒAES-CBCåŠ å¯†ï¼‰
- å¢å¼ºäº†ç¦»çº¿æ•°æ®ç®¡ç†å™¨ï¼Œæ”¯æŒå‹ç¼©åŠ å¯†å­˜å‚¨
- å¢åŠ äº†æ•°æ®å®Œæ•´æ€§æ ¡éªŒåŠŸèƒ½

### 3. **å·¥ä½œæµç‰ˆæœ¬ç®¡ç†**

- åˆ›å»ºäº†å·¥ä½œæµç‰ˆæœ¬å®ä½“å’Œæ•°æ®åº“è¡¨
- å®ç°äº†å®Œæ•´çš„ç‰ˆæœ¬ç®¡ç†æœåŠ¡ï¼ˆåˆ›å»ºã€æŸ¥è¯¢ã€å›æ»šã€æ¯”è¾ƒã€å¯¼å‡ºå¯¼å…¥ï¼‰
- æä¾›äº†ç‰ˆæœ¬æ ‡ç­¾ç®¡ç†å’Œæœç´¢åŠŸèƒ½
- æ”¯æŒç‰ˆæœ¬å·®å¼‚æ¯”è¾ƒå’Œå¯è§†åŒ–å±•ç¤º

### 4. **å‰åç«¯å®Œæ•´å®ç°**

- åç«¯ï¼šå®Œæ•´çš„æœåŠ¡å±‚ã€æ§åˆ¶å™¨å±‚ã€æ•°æ®è®¿é—®å±‚
- å‰ç«¯ï¼šå†²çªè§£å†³ç•Œé¢ã€ç‰ˆæœ¬ç®¡ç†ç•Œé¢ã€ç‰ˆæœ¬æ¯”è¾ƒç•Œé¢
- é…ç½®ï¼šå®Œæ•´çš„é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒåœ¨çº¿/ç¦»çº¿æ¨¡å¼åˆ‡æ¢

### 5. **é…ç½®æ–‡ä»¶ä¼˜åŒ–**

- ç»Ÿä¸€äº†é…ç½®ç®¡ç†ï¼Œæ”¯æŒç¯å¢ƒå˜é‡è¦†ç›–
- æä¾›äº†å®Œæ•´çš„é»˜è®¤é…ç½®
- æ”¯æŒæŒ‰æ¨¡å¼åŠ è½½ä¸åŒé…ç½®

### 6. **æµ‹è¯•è„šæœ¬**

- æä¾›äº†å®Œæ•´çš„æµ‹è¯•è„šæœ¬
- æ”¯æŒè‡ªåŠ¨åŒ–æµ‹è¯•å’ŒéªŒè¯

è¿™äº›åŠŸèƒ½çš„å®ç°ä½¿å¾—å·¥ä½œæµå¯è§†åŒ–å¹³å°å…·å¤‡äº†ä¼ä¸šçº§åº”ç”¨æ‰€éœ€çš„é«˜çº§åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ•°æ®å®‰å…¨ã€ç‰ˆæœ¬æ§åˆ¶ã€å†²çªè§£å†³ç­‰å…³é”®ç‰¹æ€§ã€‚